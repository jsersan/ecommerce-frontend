<!-- Ejemplo modificado para usar el servicio, ajusta según tu diseño actual -->
<div class="product-list-container">
  <!-- Mostrar mensaje de carga si corresponde -->
  <div *ngIf="loading" class="loading-indicator">
    <p>Cargando productos...</p>
  </div>

  <!-- Mostrar título de categoría si estamos en una categoría -->
  <div *ngIf="currentCategory" class="category-header">
    <h1>{{ currentCategory.nombre }}</h1>
    <p *ngIf="currentCategory.descripcion">{{ currentCategory.descripcion }}</p>
  </div>

  <!-- Mensaje si no hay productos -->
  <div *ngIf="!loading && products.length === 0" class="no-products">
    <p>No se encontraron productos en esta categoría.</p>
  </div>

  <!-- Grilla de productos -->
  <div class="product-grid">
    <div class="product-card" *ngFor="let product of products">
      <!-- Imagen usando el servicio centralizado -->
      <img [src]="productService.getProductImageSrc(product)" [alt]="product.nombre" 
           (error)="productService.handleImageError($event)" />
      
      <div class="product-details">
        <h2>{{ product.nombre }}</h2>
        <p class="price">{{ formatPrice(product.precio) }}</p>
        <p class="description">{{ product.descripcion }}</p>
        <button class="btn-add-cart">Añadir al carrito</button>
      </div>
    </div>
  </div>
</div>