<!-- El banner ahora es manejado por el componente app-banner -->

<!-- Indicador de carga -->
<div *ngIf="loading" class="loading-indicator">
  <p>Cargando productos...</p>
</div>

<!-- Título de la sección en cursiva -->
<div id="titulo" class="center-aligned-title">
  <h1>novedades</h1>
</div>

<!-- Contenedor para la cuadrícula de productos aleatorios -->
<div id="articulos" *ngIf="!loading">
  <!-- Mensaje si no hay productos -->
  <div *ngIf="randomProducts.length === 0" class="no-products">
    <p>No se encontraron productos disponibles.</p>
  </div>
  
  <!-- Directiva *ngFor que itera sobre el array de productos aleatorios -->
  <div class="articulo" *ngFor="let product of randomProducts" [routerLink]="['/product', product.id]">
    <!-- Imagen del producto usando el servicio centralizado -->
    <img [src]="productService.getProductImageSrc(product)" [alt]="product.nombre" 
         (error)="productService.handleImageError($event)" />
    
    <!-- Nombre del producto -->
    <h2>{{ product.nombre }}</h2>
    
    <!-- Precio del producto formateado como moneda -->
    <h3>{{ product.precio | currency:'EUR':'symbol':'1.2-2' }}</h3>
    
    <!-- Descripción del producto -->
    <p>{{ product.descripcion }}</p>
  </div>
</div>

<!-- Incluir el componente de popup de producto -->
<app-product-popup></app-product-popup>